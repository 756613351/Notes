# 项目设计与书写规范  



## 1. 要有详细的项目文档  
项目从开始设计到研发完毕大致会有以下文档:  
- 1.1 项目整体设计文档(可参考「campustore需求文档」)  
- 1.2 数据库文档(具体到每个字段的注释，可参考「[数据库设计规范](https://github.com/Flying9001/Notes/blob/df86689900c3619d8e447ff12826ef3e5d915478/sql/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83.md "https://github.com/Flying9001/Notes/blob/df86689900c3619d8e447ff12826ef3e5d915478/sql/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83.md")」)  
- 1.3 接口文档(可参考「campustore接口文档」)  
- 1.4 项目部署文档(可参考「项目部署文档」)  
  
    
## 2. 良好的编程习惯  

### 2.1 编写代码工作流程  

- 2.1.1 实现功能 -- 测试 -- codeReview(标准:清楚、明了)  -- 提交/上线  
- 2.1.2 要有自己的项目开发进度表  
    开发之前写一份，开发过程中根据进度写具体功能(可参考「[项目开发进度文档]」)  
- 2.1.3 每次写代码,在当天结束之前对当天遇到的问题进行简单整理,以后有时间再系统归纳  

### 2.2. 代码规范性

- 2.2.1 请求数据封装为一个 `json` 对象  
  `Service` 层、`Controller` 层 返回**统一的**封装 `json` 对象, `DAO` 层返回对象/`List`/`boolean` 等  

- 2.2.2 不要写多层嵌套的 `if-else`  

- 2.2.3 日志、数据校验等需要多次用到的重复性代码要封装  

- 2.2.4 一条 `SQL` 只做一件事 (不要一个 `update` 语句把所有修改的都包含了)  

- 2.2.5 不同功能的`SQL` 中,不需要用到的字段不查询  

- 2.2.6 可以作为账号的字段(eg:手机号、邮箱)需要在数据库中作**唯一性约束**  

- 2.2.7 代码注释要详尽  

- 2.2.8 Controller 层进行数据校验,service 层进行业务逻辑处理, dao 层进行数据持久化操作 

- 2.2.9 在 utils 包下继续根据类型进行工具类的划分  

- 2.2.10 良好的代码书写习惯(可参考「[阿里巴巴Java开发手册](https://github.com/alibaba/p3c "https://github.com/alibaba/p3c")」)  

- 2.2.11 数据校验原则  
    在需要对数据进行校验的地方,先进行正则等程序校验，再进行缓存层校验，最后进行数据库层的校验  

- 2.2.12 参数接收与返回规范  

    | 层级       | 入参      | 返回参数                      |
    | :--------- | --------- | ----------------------------- |
    | Controller | Map/Bean  | 封装的 json 对象              |
    | Service    | Map/Bean  | 封装的 json 对象              |
    | DAO        | Bean 对象 | Bean 对象/boolean/BeanList 等 |

- 2.2.13 工具类要保持相对的独立性  

    在编写工具类时,不要引用自己编写的其他类,可以引用 `maven` 仓库中已经拥有的公共工具类  





